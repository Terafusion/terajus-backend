<?php

namespace App\Services\ArtificialIntelligence;

use App\Models\LegalCase\LegalCase;
use App\Models\User\User;
use App\Repositories\User\UserRepository;
use App\Services\LegalCase\PromptService;
use App\Services\User\UserService;
use Illuminate\Support\Collection;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Http;

class ArtificialIntelligenceService
{
    /** @var PromptService */
    private $promptService;

    public function __construct(PromptService $promptService)
    {
        $this->promptService = $promptService;
    }

    public function getComplaint(LegalCase $legalCase)
    {
        $prompt = $this->getPrompt($legalCase);
    }

    /**
     * Get complaint generated by IA
     */
    public function getPrompt(LegalCase $legalCase = null)
    {
        $legalCase = LegalCase::factory()->laborLawCase()->create();
        return $this->promptService
            ->setCaseType($legalCase->case_type)
            ->setCaseMatter($legalCase->case_matter)
            ->setDescription($legalCase->case_description)
            ->build();
    }
}
